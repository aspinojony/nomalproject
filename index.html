<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¡ç®—æœºè€ƒç ”å­¦ä¹ å¹³å° | é«˜æ•ˆå¤‡è€ƒï¼Œæ™ºèƒ½å­¦ä¹ </title>
    <meta name="description" content="ä¸“ä¸šçš„è®¡ç®—æœºè€ƒç ”å­¦ä¹ å¹³å°ï¼Œæä¾›æ•°å­¦ã€è‹±è¯­ã€æ”¿æ²»ã€ä¸“ä¸šè¯¾ç­‰å…¨ç§‘ç›®å­¦ä¹ èµ„æºï¼ŒAIæ™ºèƒ½è¾…å¯¼ï¼ŒçœŸé¢˜ç»ƒä¹ ï¼ŒåŠ©æ‚¨é«˜æ•ˆå¤‡è€ƒ">
    <meta name="keywords" content="è®¡ç®—æœºè€ƒç ”,è€ƒç ”å­¦ä¹ ,çœŸé¢˜ç»ƒä¹ ,AIè¾…å¯¼,æ•°æ®ç»“æ„,æ“ä½œç³»ç»Ÿ,è®¡ç®—æœºç½‘ç»œ">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    <!-- Google Fonts - ä¼˜åŒ–çš„ Roboto å­—ä½“æ— -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- ç²¾ç¡®å¼•å…¥éœ€è¦çš„å­—é‡ï¼Œä¼˜åŒ–åŠ è½½æ€§èƒ½ -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Condensed:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Material Symbols - æ›¿ä»£ Font Awesome -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <link href="assets/css/common.css" rel="stylesheet">
    
    <!-- é¢„åŠ è½½é‡è¦èµ„æº - æ€§èƒ½ä¼˜åŒ– -->
    <link rel="preload" href="assets/js/ai-assistant-loader.js" as="script">
    <link rel="preload" href="assets/js/course-data.js" as="script">
    <link rel="preload" href="assets/js/fallback-data.js" as="script">
    <link rel="preload" href="assets/js/resource-loader.js" as="script">
    <link rel="preload" href="assets/css/common.css" as="style">
    
    <!-- æ‡’åŠ è½½è„šæœ¬ -->
    <script src="assets/js/ai-assistant-loader.js" defer></script>
    <script src="assets/js/course-data.js" defer></script>
    <script src="assets/js/fallback-data.js" defer></script>
    <script src="assets/js/resource-loader.js" defer></script>
    
    <style>
        /* Material Design 3 è®¾è®¡ç³»ç»Ÿ CSS å˜é‡ */
        :root {
            /* Material Design 3 æµ…è‰²æ¨¡å¼é¢œè‰² - ä¼˜åŒ–å¯¹æ¯”åº¦ç‰ˆæœ¬ */
            --md-sys-color-primary: #6750A4;
            --md-sys-color-primary-container: #EADDFF;
            --md-sys-color-secondary: #625B71;
            --md-sys-color-secondary-container: #E8DEF8;
            --md-sys-color-tertiary: #7D5260;
            --md-sys-color-tertiary-container: #FFD8E4;
            --md-sys-color-surface: #FFFBFE;
            --md-sys-color-surface-variant: #E7E0EC;
            --md-sys-color-surface-container: #F3EDF7;
            --md-sys-color-surface-container-high: #ECE6F0;
            --md-sys-color-surface-container-highest: #E6E0E9;
            --md-sys-color-background: #FFFBFE;
            --md-sys-color-on-primary: #FFFFFF;
            --md-sys-color-on-primary-container: #21005D;
            --md-sys-color-on-secondary: #FFFFFF;
            --md-sys-color-on-secondary-container: #1D192B;
            --md-sys-color-on-tertiary: #FFFFFF;
            --md-sys-color-on-tertiary-container: #31111D;
            --md-sys-color-on-surface: #1C1B1F;
            --md-sys-color-on-surface-variant: #49454F;
            --md-sys-color-on-background: #1C1B1F;
            --md-sys-color-outline: #79747E;
            --md-sys-color-outline-variant: #CAC4D0;
            --md-sys-color-shadow: #000000;
            --md-sys-color-scrim: #000000;
            
            /* Material Design 3 å¢å¼ºå¯¹æ¯”åº¦é¢œè‰² - ä¼˜åŒ–å¯è¯»æ€§ */
            --md-sys-color-on-surface-high-contrast: #000000;
            --md-sys-color-on-surface-medium-contrast: #1A1A1A;
            --md-sys-color-on-surface-variant-high-contrast: #1F1F1F;
            --md-sys-color-surface-bright: #FFFFFF;
            --md-sys-color-surface-dim: #DDD8E0;
            
            /* ä¼˜åŒ–çš„æ–‡æœ¬é¢œè‰²ï¼Œç¡®ä¿4.5:1å¯¹æ¯”åº¦ */
            --md-sys-color-text-primary: #1C1B1F;
            --md-sys-color-text-secondary: #49454F;
            --md-sys-color-text-disabled: #979797;
            
            /* Material Design 3 å½¢çŠ¶ç³»ç»Ÿ */
            --md-sys-shape-corner-none: 0px;
            --md-sys-shape-corner-extra-small: 4px;
            --md-sys-shape-corner-small: 8px;
            --md-sys-shape-corner-medium: 12px;
            --md-sys-shape-corner-large: 16px;
            --md-sys-shape-corner-extra-large: 28px;
            
            /* Material Design 3 å­—ä½“ç³»ç»Ÿ */
            --md-sys-typescale-headline-large-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-headline-large-font-weight: 400;
            --md-sys-typescale-headline-large-font-size: 32px;
            --md-sys-typescale-headline-large-line-height: 40px;
            --md-sys-typescale-headline-large-letter-spacing: 0px;
            
            --md-sys-typescale-headline-medium-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-headline-medium-font-weight: 400;
            --md-sys-typescale-headline-medium-font-size: 28px;
            --md-sys-typescale-headline-medium-line-height: 36px;
            --md-sys-typescale-headline-medium-letter-spacing: 0px;
            
            --md-sys-typescale-headline-small-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-headline-small-font-weight: 400;
            --md-sys-typescale-headline-small-font-size: 24px;
            --md-sys-typescale-headline-small-line-height: 32px;
            --md-sys-typescale-headline-small-letter-spacing: 0px;
            
            --md-sys-typescale-title-large-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-title-large-font-weight: 500;
            --md-sys-typescale-title-large-font-size: 22px;
            --md-sys-typescale-title-large-line-height: 28px;
            --md-sys-typescale-title-large-letter-spacing: 0px;
            
            --md-sys-typescale-title-medium-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-title-medium-font-weight: 500;
            --md-sys-typescale-title-medium-font-size: 16px;
            --md-sys-typescale-title-medium-line-height: 24px;
            --md-sys-typescale-title-medium-letter-spacing: 0.15px;
            
            --md-sys-typescale-body-large-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-body-large-font-weight: 400;
            --md-sys-typescale-body-large-font-size: 16px;
            --md-sys-typescale-body-large-line-height: 24px;
            --md-sys-typescale-body-large-letter-spacing: 0.5px;
            
            --md-sys-typescale-body-medium-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-body-medium-font-weight: 400;
            --md-sys-typescale-body-medium-font-size: 14px;
            --md-sys-typescale-body-medium-line-height: 20px;
            --md-sys-typescale-body-medium-letter-spacing: 0.25px;
            
            --md-sys-typescale-label-large-font-family: 'Roboto', sans-serif;
            --md-sys-typescale-label-large-font-weight: 500;
            --md-sys-typescale-label-large-font-size: 14px;
            --md-sys-typescale-label-large-line-height: 20px;
            --md-sys-typescale-label-large-letter-spacing: 0.1px;
            
            /* Material Design 3 æµ·æ‹”é˜´å½± */
            --md-sys-elevation-level0: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12);
            --md-sys-elevation-level1: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);
            --md-sys-elevation-level2: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);
            --md-sys-elevation-level3: 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12);
            --md-sys-elevation-level4: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
            --md-sys-elevation-level5: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);
        }

        /* Material Design 3 æš—è‰²æ¨¡å¼ */
        .dark {
            --md-sys-color-primary: #D0BCFF;
            --md-sys-color-primary-container: #4F378B;
            --md-sys-color-secondary: #CCC2DC;
            --md-sys-color-secondary-container: #4A4458;
            --md-sys-color-tertiary: #EFB8C8;
            --md-sys-color-tertiary-container: #633B48;
            --md-sys-color-surface: #141218;
            --md-sys-color-surface-variant: #49454F;
            --md-sys-color-surface-container: #211F26;
            --md-sys-color-surface-container-high: #2B2930;
            --md-sys-color-surface-container-highest: #36343B;
            --md-sys-color-background: #141218;
            --md-sys-color-on-primary: #381E72;
            --md-sys-color-on-primary-container: #EADDFF;
            --md-sys-color-on-secondary: #332D41;
            --md-sys-color-on-secondary-container: #E8DEF8;
            --md-sys-color-on-tertiary: #492532;
            --md-sys-color-on-tertiary-container: #FFD8E4;
            --md-sys-color-on-surface: #E6E0E9;
            --md-sys-color-on-surface-variant: #CAC4D0;
            --md-sys-color-on-background: #E6E0E9;
            --md-sys-color-outline: #938F99;
            --md-sys-color-outline-variant: #49454F;
            
            /* æš—è‰²æ¨¡å¼å¢å¼ºå¯¹æ¯”åº¦é¢œè‰² - ä¼˜åŒ–å¯è¯»æ€§ */
            --md-sys-color-on-surface-high-contrast: #FFFFFF;
            --md-sys-color-on-surface-medium-contrast: #F0F0F0;
            --md-sys-color-on-surface-variant-high-contrast: #E0E0E0;
            --md-sys-color-surface-bright: #36343B;
            --md-sys-color-surface-dim: #0F0F0F;
            
            /* æš—è‰²æ¨¡å¼ä¼˜åŒ–çš„æ–‡æœ¬é¢œè‰² */
            --md-sys-color-text-primary: #E6E0E9;
            --md-sys-color-text-secondary: #CAC4D0;
            --md-sys-color-text-disabled: #6A6A6A;
        }
        
        /* é«˜å¯¹æ¯”åº¦æ–‡æœ¬æ ·å¼ç±» */
        .text-high-contrast {
            color: var(--md-sys-color-text-primary) !important;
        }
        
        .text-medium-contrast {
            color: var(--md-sys-color-text-secondary) !important;
        }
        
        /* ç¡®ä¿é“¾æ¥æœ‰è¶³å¤Ÿçš„å¯¹æ¯”åº¦ */
        a {
            color: var(--md-sys-color-primary);
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        a:focus {
            outline: 2px solid var(--md-sys-color-primary);
            outline-offset: 2px;
        }

        /* Material Design 3 å…¨å±€åŸºç¡€æ ·å¼ - å¢å¼ºå­—ä½“æ¸²æŸ“ */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html {
            scroll-behavior: smooth;
            /* ä¼˜åŒ–å­—ä½“æ¸²æŸ“æ€§èƒ½ */
            text-rendering: optimizeLegibility;
            -webkit-text-size-adjust: 100%;
        }
        
        body {
            font-family: var(--md-sys-typescale-body-medium-font-family);
            font-size: var(--md-sys-typescale-body-medium-font-size);
            font-weight: var(--md-sys-typescale-body-medium-font-weight);
            line-height: var(--md-sys-typescale-body-medium-line-height);
            letter-spacing: var(--md-sys-typescale-body-medium-letter-spacing);
            background-color: var(--md-sys-color-background);
            color: var(--md-sys-color-on-background);
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            /* å¢å¼ºå­—ä½“æ¸²æŸ“å’Œå¯è¯»æ€§ */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-feature-settings: 'kern' 1, 'liga' 1;
            text-rendering: optimizeLegibility;
        }
        
        /* Material Design 3 å­—ä½“æ ·å¼ç±» */
        .md3-headline-large {
            font-family: var(--md-sys-typescale-headline-large-font-family);
            font-size: var(--md-sys-typescale-headline-large-font-size);
            font-weight: var(--md-sys-typescale-headline-large-font-weight);
            line-height: var(--md-sys-typescale-headline-large-line-height);
            letter-spacing: var(--md-sys-typescale-headline-large-letter-spacing);
        }
        
        .md3-headline-medium {
            font-family: var(--md-sys-typescale-headline-medium-font-family);
            font-size: var(--md-sys-typescale-headline-medium-font-size);
            font-weight: var(--md-sys-typescale-headline-medium-font-weight);
            line-height: var(--md-sys-typescale-headline-medium-line-height);
            letter-spacing: var(--md-sys-typescale-headline-medium-letter-spacing);
        }
        
        .md3-headline-small {
            font-family: var(--md-sys-typescale-headline-small-font-family);
            font-size: var(--md-sys-typescale-headline-small-font-size);
            font-weight: var(--md-sys-typescale-headline-small-font-weight);
            line-height: var(--md-sys-typescale-headline-small-line-height);
            letter-spacing: var(--md-sys-typescale-headline-small-letter-spacing);
        }
        
        .md3-title-large {
            font-family: var(--md-sys-typescale-title-large-font-family);
            font-size: var(--md-sys-typescale-title-large-font-size);
            font-weight: var(--md-sys-typescale-title-large-font-weight);
            line-height: var(--md-sys-typescale-title-large-line-height);
            letter-spacing: var(--md-sys-typescale-title-large-letter-spacing);
        }
        
        .md3-title-medium {
            font-family: var(--md-sys-typescale-title-medium-font-family);
            font-size: var(--md-sys-typescale-title-medium-font-size);
            font-weight: var(--md-sys-typescale-title-medium-font-weight);
            line-height: var(--md-sys-typescale-title-medium-line-height);
            letter-spacing: var(--md-sys-typescale-title-medium-letter-spacing);
        }
        
        .md3-body-large {
            font-family: var(--md-sys-typescale-body-large-font-family);
            font-size: var(--md-sys-typescale-body-large-font-size);
            font-weight: var(--md-sys-typescale-body-large-font-weight);
            line-height: var(--md-sys-typescale-body-large-line-height);
            letter-spacing: var(--md-sys-typescale-body-large-letter-spacing);
        }
        
        .md3-body-medium {
            font-family: var(--md-sys-typescale-body-medium-font-family);
            font-size: var(--md-sys-typescale-body-medium-font-size);
            font-weight: var(--md-sys-typescale-body-medium-font-weight);
            line-height: var(--md-sys-typescale-body-medium-line-height);
            letter-spacing: var(--md-sys-typescale-body-medium-letter-spacing);
        }
        
        .md3-label-large {
            font-family: var(--md-sys-typescale-label-large-font-family);
            font-size: var(--md-sys-typescale-label-large-font-size);
            font-weight: var(--md-sys-typescale-label-large-font-weight);
            line-height: var(--md-sys-typescale-label-large-line-height);
            letter-spacing: var(--md-sys-typescale-label-large-letter-spacing);
        }
        
        /* Material Symbols å›¾æ ‡æ ·å¼ */
        .material-symbols-outlined,
        .material-symbols-rounded {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24;
            user-select: none;
            vertical-align: middle;
        }
        
        .material-symbols-filled {
            font-variation-settings:
                'FILL' 1,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24;
        }
        
        /* å›¾æ ‡å¤§å°å˜ä½“ */
        .md3-icon-small { font-size: 18px; }
        .md3-icon-medium { font-size: 24px; }
        .md3-icon-large { font-size: 32px; }
        .md3-icon-extra-large { font-size: 48px; }

        /* Material Design 3 å®¹å™¨åŸºç¡€ç±» */
        .md3-surface {
            background-color: var(--md-sys-color-surface);
            color: var(--md-sys-color-on-surface);
            border-radius: var(--md-sys-shape-corner-medium);
            box-shadow: var(--md-sys-elevation-level1);
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
        }

        .md3-surface-container {
            background-color: var(--md-sys-color-surface-container);
            color: var(--md-sys-color-on-surface);
            border-radius: var(--md-sys-shape-corner-medium);
            box-shadow: var(--md-sys-elevation-level0);
        }

        .md3-card {
            background-color: var(--md-sys-color-surface-container);
            color: var(--md-sys-color-on-surface);
            border-radius: var(--md-sys-shape-corner-large);
            box-shadow: var(--md-sys-elevation-level1);
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            position: relative;
            overflow: hidden;
        }

        .md3-card:hover {
            box-shadow: var(--md-sys-elevation-level2);
            transform: translateY(-1px);
        }

        .md3-card:active {
            box-shadow: var(--md-sys-elevation-level1);
            transform: translateY(0);
        }

        .md3-card-elevated {
            background-color: var(--md-sys-color-surface-container-high);
            box-shadow: var(--md-sys-elevation-level2);
        }

        .md3-card-elevated:hover {
            box-shadow: var(--md-sys-elevation-level3);
        }

        /* Material Design 3 æŒ‰é’®ç³»ç»Ÿ */
        .md3-btn {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 40px;
            padding: 0 24px;
            border-radius: var(--md-sys-shape-corner-large);
            font-family: inherit;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 0.1px;
            line-height: 20px;
            text-decoration: none;
            border: none;
            cursor: pointer;
            outline: none;
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .md3-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.2s cubic-bezier(0.2, 0, 0, 1);
        }

        .md3-btn:hover::before {
            opacity: 0.08;
        }

        .md3-btn:focus::before {
            opacity: 0.12;
        }

        .md3-btn:active::before {
            opacity: 0.16;
        }

        /* Filled Button (Primary) */
        .md3-btn-filled {
            background-color: var(--md-sys-color-primary);
            color: var(--md-sys-color-on-primary);
            box-shadow: var(--md-sys-elevation-level0);
        }

        .md3-btn-filled::before {
            background-color: var(--md-sys-color-on-primary);
        }

        .md3-btn-filled:hover {
            box-shadow: var(--md-sys-elevation-level1);
        }

        /* Filled Tonal Button */
        .md3-btn-filled-tonal {
            background-color: var(--md-sys-color-secondary-container);
            color: var(--md-sys-color-on-secondary-container);
        }

        .md3-btn-filled-tonal::before {
            background-color: var(--md-sys-color-on-secondary-container);
        }

        /* Outlined Button */
        .md3-btn-outlined {
            background-color: transparent;
            color: var(--md-sys-color-primary);
            border: 1px solid var(--md-sys-color-outline);
        }

        .md3-btn-outlined::before {
            background-color: var(--md-sys-color-primary);
        }

        /* Text Button */
        .md3-btn-text {
            background-color: transparent;
            color: var(--md-sys-color-primary);
            padding: 0 12px;
        }

        .md3-btn-text::before {
            background-color: var(--md-sys-color-primary);
        }

        /* HeroåŒºåŸŸ Material Design 3 è®¾è®¡ */
        .hero-md3 {
            background-color: var(--md-sys-color-surface);
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            background-color: var(--md-sys-color-surface-container);
            border-radius: var(--md-sys-shape-corner-extra-large);
            box-shadow: var(--md-sys-elevation-level1);
            padding: 3rem;
            margin: 2rem;
            position: relative;
        }

        /* ç»Ÿè®¡å¡ç‰‡ Material Design 3 è®¾è®¡ */
        .stat-card {
            background-color: var(--md-sys-color-surface-container);
            border-radius: var(--md-sys-shape-corner-large);
            box-shadow: var(--md-sys-elevation-level1);
            padding: 1.5rem;
            text-align: center;
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            border: 1px solid var(--md-sys-color-outline-variant);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--md-sys-color-primary);
            font-family: 'Roboto', sans-serif;
        }

        /* åŠŸèƒ½å¡ç‰‡å›¾æ ‡å®¹å™¨ Material Design 3 */
        .icon-container {
            width: 80px;
            height: 80px;
            border-radius: var(--md-sys-shape-corner-large);
            background-color: var(--md-sys-color-primary-container);
            color: var(--md-sys-color-on-primary-container);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            position: relative;
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            box-shadow: var(--md-sys-elevation-level1);
        }

        .icon-container:hover {
            box-shadow: var(--md-sys-elevation-level2);
            transform: translateY(-2px);
        }

        .icon-container i {
            font-size: 1.5rem;
            z-index: 1;
        }

        /* Material Design 3 ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */
        .theme-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            border-radius: var(--md-sys-shape-corner-large);
            background-color: var(--md-sys-color-surface-container-high);
            color: var(--md-sys-color-on-surface);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            z-index: 1000;
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            box-shadow: var(--md-sys-elevation-level2);
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background-color: var(--md-sys-color-on-surface);
            opacity: 0;
            transition: opacity 0.2s cubic-bezier(0.2, 0, 0, 1);
        }

        .theme-toggle:hover {
            box-shadow: var(--md-sys-elevation-level3);
        }

        .theme-toggle:hover::before {
            opacity: 0.08;
        }

        .theme-toggle:active::before {
            opacity: 0.16;
        }

        /* å¯¼èˆªæ  Material Design 3 è®¾è®¡ */
        nav {
            background-color: var(--md-sys-color-surface);
            box-shadow: var(--md-sys-elevation-level2);
            transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
            border-bottom: 1px solid var(--md-sys-color-outline-variant);
        }

        /* é¡µè„š Material Design 3 è®¾è®¡ */
        footer {
            background-color: var(--md-sys-color-surface);
            border-top: 1px solid var(--md-sys-color-outline-variant);
        }

        .footer-section {
            background-color: var(--md-sys-color-surface-container);
            border-radius: var(--md-sys-shape-corner-large);
            box-shadow: var(--md-sys-elevation-level1);
            padding: 2rem;
        }

        /* Material Design 3 å¢å¼ºåŠ¨ç”»æ•ˆæœ - ä¼˜åŒ–æ€§èƒ½ */
        @keyframes md3-fade-in {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes md3-scale-in {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes md3-slide-in {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* æµç•…çš„é¡µé¢è½¬åœºåŠ¨ç”» */
        @keyframes page-enter {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes stagger-fade-in {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: md3-fade-in 0.6s cubic-bezier(0.2, 0, 0, 1) forwards;
        }

        .animate-scale-in {
            animation: md3-scale-in 0.4s cubic-bezier(0.2, 0, 0, 1) forwards;
        }

        .animate-slide-in {
            animation: md3-slide-in 0.5s cubic-bezier(0.2, 0, 0, 1) forwards;
        }
        
        .animate-page-enter {
            animation: page-enter 0.8s cubic-bezier(0.2, 0, 0, 1) forwards;
        }
        
        .animate-stagger {
            animation: stagger-fade-in 0.6s cubic-bezier(0.2, 0, 0, 1) forwards;
        }
        
        /* åˆå§‹çŠ¶æ€ï¼Œé˜²æ­¢é—ªçƒ */
        .animate-on-load {
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* é«˜æ€§èƒ½åŠ¨ç”»ä¼˜åŒ– */
        .animate-optimized {
            will-change: transform, opacity;
            backface-visibility: hidden;
            perspective: 1000px;
        }
        
        /* GPU åŠ é€Ÿçš„å˜æ¢ */
        .gpu-accelerated {
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }
        
        /* å‡å°‘é‡ç»˜çš„å˜æ¢ */
        .reduce-paint {
            will-change: transform;
            transform: translateZ(0);
        }
        
        /* éª‘æ’åŠ¨ç”»å»¶è¿Ÿ */
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        .stagger-5 { animation-delay: 0.5s; }
        .stagger-6 { animation-delay: 0.6s; }

        /* Material Design 3 ç¼“åŠ¨å‡½æ•° */
        .md3-emphasized {
            transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
        }

        .md3-standard {
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }

        .md3-emphasized-decelerate {
            transition-timing-function: cubic-bezier(0.05, 0.7, 0.1, 1);
        }

        /* Material Design 3 å“åº”å¼è®¾è®¡ - å¢å¼ºç§»åŠ¨ç«¯ä½“éªŒ */
        @media (max-width: 768px) {
            .hero-content {
                margin: 1rem;
                padding: 2rem;
                border-radius: var(--md-sys-shape-corner-large);
            }
            
            .theme-toggle {
                top: 1rem;
                right: 1rem;
                width: 48px;
                height: 48px;
                font-size: 1.125rem;
            }
            
            .icon-container {
                width: 64px;
                height: 64px;
            }
            
            .md3-btn {
                min-height: 36px;
                padding: 0 16px;
                font-size: 13px;
            }
            
            /* ç§»åŠ¨ç«¯è§¦æ‘¸ä¼˜åŒ– */
            .md3-btn,
            .md3-card,
            .theme-toggle {
                min-height: 44px; /* iOSå»ºè®®çš„æœ€å°è§¦æ‘¸ç›®æ ‡ */
                min-width: 44px;
            }
            
            /* ç§»åŠ¨ç«¯å­—ä½“å¤§å°è°ƒæ•´ */
            .md3-headline-large {
                font-size: 2rem;
                line-height: 2.5rem;
            }
            
            .stat-number {
                font-size: 1.5rem;
            }
            
            /* ç§»åŠ¨ç«¯é—´è·è°ƒæ•´ */
            .hero-md3 {
                padding: 3rem 0;
            }
            
            section {
                padding: 3rem 0;
            }
            
            /* ç§»åŠ¨ç«¯å¯¼èˆªä¼˜åŒ– */
            .md3-card {
                margin-bottom: 1rem;
            }
        }
        
        /* å¹³æ¿è®¾å¤‡ä¼˜åŒ– */
        @media (min-width: 769px) and (max-width: 1024px) {
            .hero-content {
                padding: 2.5rem;
                margin: 1.5rem;
            }
            
            .stat-number {
                font-size: 1.75rem;
            }
        }
        
        /* è§¦æ‘¸è®¾å¤‡é€šç”¨ä¼˜åŒ– */
        @media (hover: none) and (pointer: coarse) {
            /* è§¦æ‘¸è®¾å¤‡å»é™¤hoveræ•ˆæœï¼Œé¿å…ç²˜æ» */
            .md3-btn:hover,
            .md3-card:hover,
            .icon-container:hover,
            .theme-toggle:hover {
                transform: none;
                box-shadow: inherit;
            }
            
            /* å¢å¼ºè§¦æ‘¸åé¦ˆ */
            .md3-btn:active,
            .md3-card:active {
                transform: scale(0.98);
                transition: transform 0.1s ease;
            }
            
            /* è§¦æ‘¸æ—¶çš„çŠ¶æ€å±‚ */
            .md3-btn:active::before,
            .md3-card:active::before {
                opacity: 0.2;
            }
        }
        
        /* é«˜åˆ†è¾¨ç‡å±å¹•ä¼˜åŒ– */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            /* ç¡®ä¿å›¾æ ‡å’Œè¾¹æ¡†åœ¨é«˜DPIå±å¹•ä¸Šæ¸…æ™° */
            .material-symbols-outlined,
            .material-symbols-rounded {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }
        
        /* æ¨ªå±æ¨¡å¼ä¼˜åŒ– */
        @media (orientation: landscape) and (max-height: 600px) {
            .hero-md3 {
                padding: 2rem 0;
            }
            
            .hero-content {
                padding: 2rem;
            }
            
            .md3-headline-large {
                font-size: 2.5rem;
                line-height: 3rem;
            }
        }
        
        /* å¯è®¿é—®æ€§ï¼šå‡å°‘åŠ¨ç”» */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .animate-fade-in,
            .animate-scale-in,
            .animate-slide-in,
            .animate-page-enter {
                animation: none !important;
                opacity: 1 !important;
                transform: none !important;
            }
        }
        
        /* ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®æ ·å¼ */
        /* ç¦ç”¨åŠ¨ç”» */
        .no-animations *,
        .no-animations *::before,
        .no-animations *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
        
        /* ç´§å‡‘æ¨¡å¼ */
        .compact-mode .hero-content {
            padding: 1.5rem;
            margin: 1rem;
        }
        
        .compact-mode .stat-card {
            padding: 1rem;
        }
        
        .compact-mode .md3-card {
            padding: 1rem;
        }
        
        .compact-mode section {
            padding: 2rem 0;
        }
        
        .compact-mode .footer-section {
            padding: 1rem;
        }
        
        /* å­—ä½“å¤§å°è®¾ç½® */
        .font-small {
            font-size: 14px;
        }
        
        .font-small .md3-headline-large {
            font-size: 2rem;
            line-height: 2.5rem;
        }
        
        .font-small .md3-headline-medium {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        
        .font-small .stat-number {
            font-size: 1.5rem;
        }
        
        .font-medium {
            font-size: 16px;
        }
        
        .font-large {
            font-size: 18px;
        }
        
        .font-large .md3-headline-large {
            font-size: 3.5rem;
            line-height: 4rem;
        }
        
        .font-large .md3-headline-medium {
            font-size: 2.5rem;
            line-height: 3rem;
        }
        
        .font-large .stat-number {
            font-size: 2.5rem;
        }
        
        /* ä¸ªæ€§åŒ–è®¾ç½®é¢æ¿æ ·å¼ */
        .preferences-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--md-sys-color-surface);
            border-radius: var(--md-sys-shape-corner-large);
            box-shadow: var(--md-sys-elevation-level3);
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            z-index: 1000;
        }
        
        .preference-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid var(--md-sys-color-outline-variant);
        }
        
        .preference-item:last-child {
            border-bottom: none;
        }
        
        .preference-toggle {
            width: 48px;
            height: 24px;
            background: var(--md-sys-color-surface-variant);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .preference-toggle.active {
            background: var(--md-sys-color-primary);
        }
        
        .preference-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s ease;
        }
        
        .preference-toggle.active::after {
            transform: translateX(24px);
        }

        /* Material Design 3 æ·±è‰²ä¸»é¢˜é€‚é… */
        @media (prefers-color-scheme: dark) {
            :root:not(.light) {
                --md-sys-color-primary: #D0BCFF;
                --md-sys-color-primary-container: #4F378B;
                --md-sys-color-secondary: #CCC2DC;
                --md-sys-color-secondary-container: #4A4458;
                --md-sys-color-tertiary: #EFB8C8;
                --md-sys-color-tertiary-container: #633B48;
                --md-sys-color-surface: #141218;
                --md-sys-color-surface-variant: #49454F;
                --md-sys-color-surface-container: #211F26;
                --md-sys-color-surface-container-high: #2B2930;
                --md-sys-color-surface-container-highest: #36343B;
                --md-sys-color-background: #141218;
                --md-sys-color-on-primary: #381E72;
                --md-sys-color-on-primary-container: #EADDFF;
                --md-sys-color-on-secondary: #332D41;
                --md-sys-color-on-secondary-container: #E8DEF8;
                --md-sys-color-on-tertiary: #492532;
                --md-sys-color-on-tertiary-container: #FFD8E4;
                --md-sys-color-on-surface: #E6E0E9;
                --md-sys-color-on-surface-variant: #CAC4D0;
                --md-sys-color-on-background: #E6E0E9;
                --md-sys-color-outline: #938F99;
                --md-sys-color-outline-variant: #49454F;
            }
        }

        /* Material Design 3 æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background-color: var(--md-sys-color-surface-variant);
            border-radius: var(--md-sys-shape-corner-small);
        }

        ::-webkit-scrollbar-thumb {
            background-color: var(--md-sys-color-outline);
            border-radius: var(--md-sys-shape-corner-small);
            border: 2px solid var(--md-sys-color-surface-variant);
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: var(--md-sys-color-on-surface-variant);
        }

        /* Material Design 3 çŠ¶æ€å±‚å’Œæ¶Ÿæ¼ªæ•ˆæœå¢å¼º */
        .md3-ripple-container {
            position: relative;
            overflow: hidden;
        }

        .md3-ripple-effect {
            position: absolute;
            border-radius: 50%;
            background-color: currentColor;
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }

        @keyframes ripple-animation {
            0% {
                transform: scale(0);
                opacity: 0.5;
            }
            50% {
                opacity: 0.3;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Material Design 3 å¢å¼ºæŒ‰é’®äº¤äº’ */
        .md3-btn:not(:disabled) {
            cursor: pointer;
        }

        .md3-btn:disabled {
            opacity: 0.38;
            cursor: not-allowed;
        }

        .md3-btn:not(:disabled):hover {
            transform: translateY(-1px);
        }

        .md3-btn:not(:disabled):active {
            transform: translateY(0);
        }

        /* Material Design 3 å¡ç‰‡äº¤äº’å¢å¼º */
        .md3-card:hover {
            cursor: pointer;
        }

        .md3-card:not(.md3-card-disabled):hover {
            transform: translateY(-2px);
        }

        .md3-card:not(.md3-card-disabled):active {
            transform: translateY(-1px);
        }

        /* Material Design 3 å›¾æ ‡å®¹å™¨äº¤äº’ */
        .icon-container:hover {
            transform: translateY(-2px) scale(1.05);
        }

        .icon-container:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* Material Design 3 ä¸»é¢˜åˆ‡æ¢æŒ‰é’®äº¤äº’å¢å¼º */
        .theme-toggle:hover {
            transform: scale(1.1);
        }

        .theme-toggle:active {
            transform: scale(1.05);
        }

        /* Material Design 3 ç„¦ç‚¹çŠ¶æ€ */
        .md3-btn:focus-visible,
        .md3-card:focus-visible,
        .theme-toggle:focus-visible {
            outline: 2px solid var(--md-sys-color-primary);
            outline-offset: 2px;
        }

        /* Material Design 3 åŠ¨æ€é˜´å½± */
        .md3-elevated-on-hover:hover {
            box-shadow: var(--md-sys-elevation-level3);
        }

        .md3-elevated-on-hover:active {
            box-shadow: var(--md-sys-elevation-level1);
        }

        /* Material Design 3 è¡¨é¢è°ƒè‰²å¢å¼º */
        .md3-surface-tint::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--md-sys-color-primary) 0%, transparent 60%);
            opacity: 0.05;
            border-radius: inherit;
            pointer-events: none;
        }

        /* Material Design 3 åŠ è½½çŠ¶æ€ */
        .md3-loading {
            position: relative;
            overflow: hidden;
        }

        .md3-loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--md-sys-color-on-surface), transparent);
            opacity: 0.1;
            animation: loading-shimmer 1.5s infinite;
        }

        @keyframes loading-shimmer {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }
        
        /* éª¨æ¶å±åŠ¨ç”»æ•ˆæœ */
        @keyframes skeleton-loading {
            0% {
                background-position: -200px 0;
            }
            100% {
                background-position: calc(200px + 100%) 0;
            }
        }
        
        .skeleton {
            animation: skeleton-loading 1.5s infinite;
            background: linear-gradient(90deg, 
                var(--md-sys-color-surface-variant) 25%, 
                var(--md-sys-color-surface-container) 50%, 
                var(--md-sys-color-surface-variant) 75%);
            background-size: 200px 100%;
            border-radius: var(--md-sys-shape-corner-small);
        }
        
        .skeleton-text {
            height: 20px;
            margin-bottom: 8px;
        }
        
        .skeleton-title {
            height: 32px;
            margin-bottom: 16px;
        }
        
        .skeleton-card {
            height: 200px;
            border-radius: var(--md-sys-shape-corner-large);
        }
        
        /* åŠ è½½è¿›åº¦æŒ‡ç¤ºå™¨ */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--md-sys-color-surface-variant);
            border-top: 4px solid var(--md-sys-color-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* è¿›åº¦æ¡æ ·å¼ */
        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: var(--md-sys-color-surface-variant);
            border-radius: var(--md-sys-shape-corner-small);
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                var(--md-sys-color-primary), 
                var(--md-sys-color-secondary));
            border-radius: var(--md-sys-shape-corner-small);
            transition: width 0.3s cubic-bezier(0.2, 0, 0, 1);
        }
    </style>
</head>
<body class="transition-all duration-300" x-data="mainApp()">
    <!-- å…¨å±€åŠ è½½æŒ‡ç¤ºå™¨ -->
    <div x-show="isLoading" 
         x-transition:enter="transition ease-out duration-200"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="fixed top-0 left-0 right-0 z-50">
        <div class="progress-bar">
            <div class="progress-fill" :style="`width: ${loadingProgress}%`"></div>
        </div>
    </div>
    
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <button class="theme-toggle" @click="toggleTheme()" :title="darkMode ? 'åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼' : 'åˆ‡æ¢åˆ°æš—è‰²æ¨¡å¼'">
        <span class="material-symbols-rounded" x-text="darkMode ? 'light_mode' : 'dark_mode'"></span>
    </button>

    <!-- å¯¼èˆªæ å®¹å™¨ -->
    <div id="navbar-container"></div>

    <!-- ä¼˜é›…çš„æ¬¢è¿å¼•å¯¼ -->
    <div x-show="showWelcome" 
         x-transition:enter="transition ease-out duration-500"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        
        <div class="md3-card max-w-md w-full p-8 text-center" 
             x-transition:enter="transition ease-out duration-700 delay-200"
             x-transition:enter-start="opacity-0 scale-75"
             x-transition:enter-end="opacity-100 scale-100">
            
            <div class="relative mb-6">
                <div class="icon-container mx-auto">
                    <span class="material-symbols-rounded">school</span>
                </div>
            </div>
            
            <h2 class="text-2xl font-bold mb-2" style="color: var(--text-primary);">
                ğŸ‰ æ¬¢è¿æ¥åˆ°è€ƒç ”å­¦ä¹ å¹³å°
            </h2>
            <p class="text-lg mb-6" style="color: var(--text-secondary);">å¼€å¯æ‚¨çš„é«˜æ•ˆå¤‡è€ƒä¹‹æ—…</p>
            
            <div class="grid grid-cols-2 gap-3 mb-6 text-sm">
                    <div class="md3-surface-container p-3">
                        <span class="material-symbols-rounded text-blue-400 mb-1">play_circle</span>
                        <div class="font-semibold">200+ è§†é¢‘è¯¾ç¨‹</div>
                    </div>
                    <div class="md3-surface-container p-3">
                        <span class="material-symbols-rounded text-green-400 mb-1">task_alt</span>
                        <div class="font-semibold">1280+ çœŸé¢˜</div>
                    </div>
                    <div class="md3-surface-container p-3">
                        <span class="material-symbols-rounded text-purple-400 mb-1">smart_toy</span>
                        <div class="font-semibold">AI æ™ºèƒ½è¾…å¯¼</div>
                    </div>
                    <div class="md3-surface-container p-3">
                        <span class="material-symbols-rounded text-indigo-400 mb-1">cloud_sync</span>
                        <div class="font-semibold">äº‘ç«¯åŒæ­¥</div>
                    </div>
            </div>
            
            <div class="space-y-3">
                <button @click="startTour()" 
                        class="w-full md3-btn-filled py-3 px-6 text-lg font-bold">
                    ğŸš€ å¼€å§‹æ–°æ‰‹å¼•å¯¼
                </button>
                <button @click="skipWelcome()" 
                        class="w-full md3-btn-outlined py-2">
                    ç›´æ¥è¿›å…¥å¹³å° â†’
                </button>
            </div>
        </div>
    </div>

    <!-- HeroåŒºåŸŸ - æ–°æ‹Ÿç‰©åŒ–è®¾è®¡ -->
    <section class="hero-md3 py-20 lg:py-28">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="hero-content text-center relative">
                <!-- æµ®åŠ¨è£…é¥°å…ƒç´  -->
                <div class="absolute -top-12 -left-12 w-24 h-24 md3-surface rounded-full animate-scale-in opacity-50 stagger-1 animate-optimized"></div>
                <div class="absolute top-1/2 -right-16 w-16 h-16 md3-surface rounded-full animate-scale-in opacity-30 stagger-2 animate-optimized"></div>
                <div class="absolute bottom-0 left-1/3 w-20 h-20 md3-surface rounded-full animate-scale-in opacity-40 stagger-3 animate-optimized"></div>
                
                <!-- ä¸»æ ‡é¢˜åŒºåŸŸ -->
                <div class="mb-8 animate-fade-in stagger-1">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black mb-6 text-high-contrast animate-optimized">
                        <span class="block" style="color: var(--md-sys-color-primary);">
                            è®¡ç®—æœºè€ƒç ”
                        </span>
                        <span class="block" style="color: var(--md-sys-color-secondary);">
                            å­¦ä¹ å¹³å°
                        </span>
                    </h1>
                    
                    <p class="text-xl sm:text-2xl md:text-3xl mb-6 font-light animate-fade-in text-medium-contrast stagger-2">
                        é«˜æ•ˆ Â· æ™ºèƒ½ Â· ä¸ªæ€§åŒ–çš„è€ƒç ”å¤‡è€ƒä½“éªŒ
                    </p>
                    
                    <div class="flex flex-wrap justify-center gap-3 mb-8 animate-fade-in stagger-3">
                        <span class="md3-surface-container px-4 py-2 text-sm font-medium" style="color: var(--md-sys-color-on-surface-variant);">âœ¨ AI æ™ºèƒ½è¾…å¯¼</span>
                        <span class="md3-surface-container px-4 py-2 text-sm font-medium" style="color: var(--md-sys-color-on-surface-variant);">ğŸ“Š æ•°æ®åˆ†æ</span>
                        <span class="md3-surface-container px-4 py-2 text-sm font-medium" style="color: var(--md-sys-color-on-surface-variant);">â˜ï¸ äº‘ç«¯åŒæ­¥</span>
                        <span class="md3-surface-container px-4 py-2 text-sm font-medium" style="color: var(--md-sys-color-on-surface-variant);">ğŸ¯ ç²¾å‡†ç»ƒä¹ </span>
                    </div>
                </div>
                
                <!-- ç»Ÿè®¡æ•°æ®å±•ç¤º -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-10 animate-fade-in stagger-4">
                    <div class="stat-card animate-on-load animate-optimized stagger-1">
                        <div class="stat-number">1280+</div>
                        <div class="text-sm mt-1" style="color: var(--md-sys-color-on-surface-variant);">å†å¹´çœŸé¢˜</div>
                    </div>
                    <div class="stat-card animate-on-load animate-optimized stagger-2">
                        <div class="stat-number">200+</div>
                        <div class="text-sm mt-1" style="color: var(--md-sys-color-on-surface-variant);">ç²¾å“è¯¾ç¨‹</div>
                    </div>
                    <div class="stat-card animate-on-load animate-optimized stagger-3">
                        <div class="stat-number">10å¹´</div>
                        <div class="text-sm mt-1" style="color: var(--md-sys-color-on-surface-variant);">é¢˜åº“è¦†ç›–</div>
                    </div>
                    <div class="stat-card animate-on-load animate-optimized stagger-4">
                        <div class="stat-number">24/7</div>
                        <div class="text-sm mt-1" style="color: var(--md-sys-color-on-surface-variant);">AI åŠ©æ‰‹</div>
                    </div>
                </div>
                
                <!-- CTAæŒ‰é’® -->
                <div class="animate-fade-in stagger-5">
                    <button onclick="document.getElementById('courses').scrollIntoView({behavior: 'smooth'})" 
                            class="md3-btn-filled px-8 py-4 text-lg font-bold md3-state-layer animate-optimized">
                        <span class="material-symbols-rounded mr-2">rocket_launch</span>
                        ç«‹å³å¼€å§‹å­¦ä¹ 
                    </button>
                </div>
            </div>
        </div>
        
        <!-- æ»šåŠ¨æç¤º -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 cursor-pointer" 
             onclick="document.getElementById('courses').scrollIntoView({behavior: 'smooth'})">
            <div class="md3-surface w-6 h-10 rounded-full flex justify-center py-2">
                <div class="w-1 h-3 rounded-full animate-bounce" style="background-color: var(--md-sys-color-primary);"></div>
            </div>
        </div>
    </section>

    <!-- å­¦ä¹ æ¨¡å—åŒºåŸŸ -->
    <section id="courses" class="py-20" style="background-color: var(--md-sys-color-background);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- åŒºåŸŸæ ‡é¢˜ -->
            <div class="text-center mb-16 animate-fade-in">
                <h2 class="text-4xl md:text-5xl font-black mb-6" style="color: var(--md-sys-color-primary);">
                    ğŸ“š æ ¸å¿ƒå­¦ä¹ æ¨¡å—
                </h2>
                <p class="text-xl max-w-3xl mx-auto" style="color: var(--md-sys-color-on-surface-variant);">
                    å…¨é¢è¦†ç›–è€ƒç ”ç§‘ç›®ï¼Œä»å…¬å…±è¯¾åˆ°ä¸“ä¸šè¯¾ï¼Œæ‰“é€ ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„ï¼ŒåŠ©æ‚¨é«˜æ•ˆå¤‡è€ƒ
                </p>
            </div>
            
            <!-- å­¦ä¹ æ¨¡å—å¡ç‰‡ -->
            <div class="grid md:grid-cols-2 gap-8 mb-16">
                <!-- å…¬å…±è¯¾æ¨¡å— -->
                <div class="md3-card md3-elevated-on-hover md3-surface-tint p-8 cursor-pointer group animate-fade-in" 
                     onclick="location.href='subjects.html?type=public'">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-2xl font-bold mb-2" style="color: var(--md-sys-color-on-surface);">å…¬å…±è¯¾ç¨‹</h3>
                            <p style="color: var(--md-sys-color-on-surface-variant);">æ•°å­¦ Â· è‹±è¯­ Â· æ”¿æ²»</p>
                        </div>
                        <div class="icon-container group-hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded">menu_book</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-4 mb-6">
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-blue-600">æ•°å­¦</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">é«˜æ•°/çº¿ä»£/æ¦‚ç‡</div>
                        </div>
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-green-600">è‹±è¯­</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">è¯æ±‡/é˜…è¯»/å†™ä½œ</div>
                        </div>
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-purple-600">æ”¿æ²»</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">é©¬åŸ/æ¯›æ¦‚/å²çº²</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center text-sm" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded mr-2">groups</span>
                            <span>85% å­¦å‘˜é€‰æ‹©</span>
                        </div>
                        <div class="flex items-center text-blue-600 group-hover:text-blue-700">
                            <span class="font-medium mr-2">å¼€å§‹å­¦ä¹ </span>
                            <span class="material-symbols-rounded transform group-hover:translate-x-1 transition-transform">arrow_forward</span>
                        </div>
                    </div>
                </div>

                <!-- ä¸“ä¸šè¯¾æ¨¡å— -->
                <div class="md3-card md3-elevated-on-hover md3-surface-tint p-8 cursor-pointer group animate-fade-in" 
                     onclick="location.href='subjects.html?type=professional'" style="animation-delay: 0.2s;">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-2xl font-bold mb-2" style="color: var(--md-sys-color-on-surface);">ä¸“ä¸šè¯¾ç¨‹</h3>
                            <p style="color: var(--md-sys-color-on-surface-variant);">è®¡ç®—æœºæ ¸å¿ƒç§‘ç›®</p>
                        </div>
                        <div class="icon-container group-hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded">computer</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-purple-600">æ•°æ®ç»“æ„</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">â˜…â˜…â˜…â˜…â˜…</div>
                        </div>
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-orange-600">æ“ä½œç³»ç»Ÿ</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">â˜…â˜…â˜…â˜…â˜†</div>
                        </div>
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-green-600">è®¡ç®—æœºç½‘ç»œ</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">â˜…â˜…â˜…â˜†â˜†</div>
                        </div>
                        <div class="text-center p-3 md3-surface-container">
                            <div class="text-lg font-bold text-blue-600">ç»„æˆåŸç†</div>
                            <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">â˜…â˜…â˜…â˜†â˜†</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="flex items-center text-sm" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded mr-2">trending_up</span>
                            <span>é«˜åˆ†å¿…å¤‡</span>
                        </div>
                        <div class="flex items-center text-purple-600 group-hover:text-purple-700">
                            <span class="font-medium mr-2">å¼€å§‹å­¦ä¹ </span>
                            <span class="material-symbols-rounded transform group-hover:translate-x-1 transition-transform">arrow_forward</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å¿«æ·åŠŸèƒ½åŒº -->
            <div class="grid md:grid-cols-3 gap-6">
                <!-- ç¬”è®°ç®¡ç† -->
                <div class="md3-card p-6 cursor-pointer group animate-fade-in" 
                     onclick="location.href='notes-management.html'"
                     style="animation-delay: 0.2s;">
                    <div class="text-center">
                        <div class="icon-container mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded">sticky_note_2</span>
                        </div>
                        <h4 class="text-xl font-bold mb-2" style="color: var(--md-sys-color-on-surface);">ç¬”è®°ç®¡ç†</h4>
                        <p class="text-sm mb-4" style="color: var(--md-sys-color-on-surface-variant);">åˆ›å»ºã€ç¼–è¾‘ã€å¯¼å…¥å¯¼å‡º</p>
                        <div class="text-2xl font-bold text-indigo-600 mb-1" id="notes-count">0</div>
                        <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">å­¦ä¹ ç¬”è®°</div>
                    </div>
                </div>

                <!-- å­¦ä¹ ç»Ÿè®¡ -->
                <div class="md3-card p-6 cursor-pointer group animate-fade-in" 
                     onclick="openStatsModal()"
                     style="animation-delay: 0.4s;">
                    <div class="text-center">
                        <div class="icon-container mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded">bar_chart</span>
                        </div>
                        <h4 class="text-xl font-bold mb-2" style="color: var(--md-sys-color-on-surface);">å­¦ä¹ ç»Ÿè®¡</h4>
                        <p class="text-sm mb-4" style="color: var(--md-sys-color-on-surface-variant);">è¿½è¸ªçœŸå®å­¦ä¹ è¿›åº¦</p>
                        <div class="text-2xl font-bold text-orange-600 mb-1" 
                             x-text="studyStats?.stats?.totalStudyTime > 0 ? Math.round(studyStats.stats.totalStudyTime / 60) + 'h' : '0h'">0h</div>
                        <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">æ€»å­¦ä¹ æ—¶é•¿</div>
                    </div>
                </div>

                <!-- æ•°æ®ç®¡ç† -->
                <div class="md3-card p-6 cursor-pointer group animate-fade-in" 
                     onclick="window.location.href='study-data-manager.html'"
                     style="animation-delay: 0.6s;">
                    <div class="text-center">
                        <div class="icon-container mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded">database</span>
                        </div>
                        <h4 class="text-xl font-bold mb-2" style="color: var(--md-sys-color-on-surface);">æ•°æ®ç®¡ç†</h4>
                        <p class="text-sm mb-4" style="color: var(--md-sys-color-on-surface-variant);">å¯¼å…¥å¯¼å‡ºå­¦ä¹ è®°å½•</p>
                        <div class="text-2xl font-bold text-green-600 mb-1" 
                             x-text="studyStats?.stats?.dailyStats ? Object.keys(studyStats.stats.dailyStats).length + 'å¤©' : '0å¤©'">0å¤©</div>
                        <div class="text-xs" style="color: var(--md-sys-color-on-surface-variant);">å­¦ä¹ è®°å½•</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Material Design 3 é¡µè„š -->
    <footer class="py-16" style="background-color: var(--md-sys-color-surface);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <!-- å“ç‰Œä»‹ç» -->
                <div class="footer-section">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 md3-surface rounded-full flex items-center justify-center mr-3">
                            <span class="material-symbols-rounded text-lg" style="color: var(--md-sys-color-primary);">school</span>
                        </div>
                        <h3 class="text-xl font-bold" style="color: var(--md-sys-color-on-surface);">è€ƒç ”å­¦ä¹ å¹³å°</h3>
                    </div>
                    <p class="mb-6 leading-relaxed" style="color: var(--md-sys-color-on-surface-variant);">
                        ä¸“æ³¨è®¡ç®—æœºè€ƒç ”æ•™è‚²ï¼Œæä¾›é«˜è´¨é‡çš„å­¦ä¹ èµ„æºå’Œæ™ºèƒ½åŒ–çš„å­¦ä¹ ä½“éªŒï¼ŒåŠ©åŠ›æ¯ä¸€ä½è€ƒç ”å­¦å­å®ç°åæ ¡æ¢¦æƒ³ã€‚
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="md3-surface w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded" style="color: var(--md-sys-color-primary);">chat</span>
                        </a>
                        <a href="#" class="md3-surface w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded" style="color: var(--md-sys-color-primary);">forum</span>
                        </a>
                        <a href="https://github.com/aspinojony?tab=repositories" class="md3-surface w-10 h-10 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <span class="material-symbols-rounded" style="color: var(--md-sys-color-primary);">code</span>
                        </a>
                    </div>
                </div>
                
                <!-- å¿«é€Ÿå¯¼èˆª -->
                <div class="footer-section">
                    <h4 class="text-lg font-semibold mb-6" style="color: var(--md-sys-color-primary);">å­¦ä¹ å¯¼èˆª</h4>
                    <ul class="space-y-3">
                        <li><a href="subjects.html?type=public" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>å…¬å…±è¯¾ç¨‹</a></li>
                        <li><a href="subjects.html?type=professional" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>ä¸“ä¸šè¯¾ç¨‹</a></li>
                        <li><a href="practice.html" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>çœŸé¢˜ç»ƒä¹ </a></li>
                    </ul>
                </div>
                
                <!-- å­¦ä¹ å·¥å…· -->
                <div class="footer-section">
                    <h4 class="text-lg font-semibold mb-6" style="color: var(--md-sys-color-primary);">å­¦ä¹ å·¥å…·</h4>
                    <ul class="space-y-3">
                        <li><a href="#" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>AIæ™ºèƒ½è¾…å¯¼</a></li>
                        <li><a href="#" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>å­¦ä¹ è®¡åˆ’</a></li>
                        <li><a href="#" class="flex items-center transition-colors duration-200 hover:scale-105" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded text-xs mr-2" style="color: var(--md-sys-color-primary);">chevron_right</span>è¿›åº¦è·Ÿè¸ª</a></li>
                    </ul>
                </div>
                
                <!-- è”ç³»ä¿¡æ¯ -->
                <div class="footer-section">
                    <h4 class="text-lg font-semibold mb-6" style="color: var(--md-sys-color-primary);">è”ç³»æˆ‘ä»¬</h4>
                    <div class="space-y-3">
                        <div class="flex items-center" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded mr-3" style="color: var(--md-sys-color-primary);">mail</span>
                            <span>aspinojony@gmail.com</span>
                        </div>
                        <div class="flex items-center" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded mr-3" style="color: var(--md-sys-color-primary);">phone</span>
                            <span>+86 16623076603</span>
                        </div>
                        <div class="flex items-center" style="color: var(--md-sys-color-on-surface-variant);">
                            <span class="material-symbols-rounded mr-3" style="color: var(--md-sys-color-primary);">schedule</span>
                            <span>å‘¨ä¸€è‡³å‘¨æ—¥ 9:00-21:00</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç‰ˆæƒä¿¡æ¯ -->
            <div class="border-t pt-8 text-center" style="border-color: var(--md-sys-color-outline-variant);">
                <p style="color: var(--md-sys-color-on-surface-variant);">
                    &copy; 2026 è®¡ç®—æœºè€ƒç ”å­¦ä¹ å¹³å°. All rights reserved by ouyangzhiheng. 
                    <span style="color: var(--md-sys-color-primary);">Made with â¤ï¸ for è€ƒç ”er</span>
                </p>
            </div>
        </div>
    </footer>

    <!-- æ ¸å¿ƒJavaScript -->
    <script>
        // Material Design 3 æ¶Ÿæ¼ªæ•ˆæœå‡½æ•°
        function createRipple(event) {
            const button = event.currentTarget;
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;
            
            const ripple = document.createElement('span');
            ripple.className = 'md3-ripple-effect';
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            
            button.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }

        // ä¸ºæ‰€æœ‰æŒ‰é’®å’Œå¡ç‰‡æ·»åŠ æ¶Ÿæ¼ªæ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const rippleElements = document.querySelectorAll('.md3-btn, .md3-card, .md3-state-layer');
            rippleElements.forEach(element => {
                element.classList.add('md3-ripple-container');
                element.addEventListener('click', createRipple);
            });
        });

        function mainApp() {
            return {
                showWelcome: false,
                darkMode: false,
                studyStats: null,
                isLoading: true,
                loadingProgress: 0,
                // ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®
                userPreferences: {
                    animationsEnabled: true,
                    compactMode: false,
                    fontSize: 'medium', // small, medium, large
                    colorScheme: 'auto', // auto, light, dark
                    autoSave: true,
                    notificationsEnabled: true
                },
                
                init() {
                    // åŠ è½½ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®
                    this.loadUserPreferences();
                    // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
                    this.simulateLoading();
                    // æ£€æŸ¥é¦–æ¬¡è®¿é—®
                    this.checkFirstVisit();
                    // åŠ è½½ä¸»é¢˜è®¾ç½®
                    this.loadTheme();
                    // æ‡’åŠ è½½è¯¾ç¨‹æ•°æ®
                    this.loadCourseData();
                    // åˆå§‹åŒ–æ»šåŠ¨åŠ¨ç”»
                    this.initScrollAnimations();
                    // åˆå§‹åŒ–å­¦ä¹ ç»Ÿè®¡
                    this.initStudyStats();
                    // åˆå§‹åŒ–è§¦æ‘¸äº¤äº’
                    this.initTouchInteractions();
                    // æ‡’åŠ è½½ç»„ä»¶
                    this.loadComponentsLazily();
                    
                    // å®šæœŸæ›´æ–°ç¬”è®°æ•°é‡
                    setInterval(() => {
                        this.updateNotesCount();
                    }, 5000); // æ¯5ç§’æ›´æ–°ä¸€æ¬¡
                },
                
                // åŠ è½½ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®
                loadUserPreferences() {
                    const savedPrefs = localStorage.getItem('userPreferences');
                    if (savedPrefs) {
                        try {
                            const parsed = JSON.parse(savedPrefs);
                            this.userPreferences = { ...this.userPreferences, ...parsed };
                        } catch (error) {
                            console.error('ç”¨æˆ·è®¾ç½®åŠ è½½å¤±è´¥:', error);
                        }
                    }
                    this.applyUserPreferences();
                },
                
                // ä¿å­˜ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®
                saveUserPreferences() {
                    try {
                        localStorage.setItem('userPreferences', JSON.stringify(this.userPreferences));
                        console.log('âœ… ç”¨æˆ·è®¾ç½®å·²ä¿å­˜');
                    } catch (error) {
                        console.error('âŒ ç”¨æˆ·è®¾ç½®ä¿å­˜å¤±è´¥:', error);
                    }
                },
                
                // åº”ç”¨ç”¨æˆ·ä¸ªæ€§åŒ–è®¾ç½®
                applyUserPreferences() {
                    const { animationsEnabled, compactMode, fontSize, notificationsEnabled } = this.userPreferences;
                    
                    // åº”ç”¨åŠ¨ç”»è®¾ç½®
                    document.documentElement.classList.toggle('no-animations', !animationsEnabled);
                    
                    // åº”ç”¨ç´§å‡‘æ¨¡å¼
                    document.documentElement.classList.toggle('compact-mode', compactMode);
                    
                    // åº”ç”¨å­—ä½“å¤§å°
                    document.documentElement.classList.remove('font-small', 'font-medium', 'font-large');
                    document.documentElement.classList.add(`font-${fontSize}`);
                    
                    // åº”ç”¨é€šçŸ¥è®¾ç½®
                    if (!notificationsEnabled) {
                        // ç¦ç”¨é€šçŸ¥çš„é€»è¾‘
                        this.showNotification = () => {}; // è¦†ç›–é€šçŸ¥æ–¹æ³•
                    }
                },
                
                // è®¾ç½®å­—ä½“å¤§å°
                setFontSize(size) {
                    this.userPreferences.fontSize = size;
                    this.applyUserPreferences();
                    this.saveUserPreferences();
                    this.showNotification(`ğŸ”¤ å­—ä½“å¤§å°å·²è°ƒæ•´ä¸º${size === 'small' ? 'å°' : size === 'large' ? 'å¤§' : 'ä¸­'}å·`, 'info');
                },
                
                // åˆ‡æ¢ç´§å‡‘æ¨¡å¼
                toggleCompactMode() {
                    this.userPreferences.compactMode = !this.userPreferences.compactMode;
                    this.applyUserPreferences();
                    this.saveUserPreferences();
                    this.showNotification(
                        this.userPreferences.compactMode ? 'ğŸ“¦ å·²å¯ç”¨ç´§å‡‘æ¨¡å¼' : 'ğŸ“– å·²ç¦ç”¨ç´§å‡‘æ¨¡å¼',
                        'info'
                    );
                },
                
                // åˆ‡æ¢åŠ¨ç”»
                toggleAnimations() {
                    this.userPreferences.animationsEnabled = !this.userPreferences.animationsEnabled;
                    this.applyUserPreferences();
                    this.saveUserPreferences();
                    this.showNotification(
                        this.userPreferences.animationsEnabled ? 'ğŸ¬ åŠ¨ç”»å·²å¯ç”¨' : 'â¸ï¸ åŠ¨ç”»å·²ç¦ç”¨',
                        'info'
                    );
                },
                
                // åˆ‡æ¢é€šçŸ¥
                toggleNotifications() {
                    this.userPreferences.notificationsEnabled = !this.userPreferences.notificationsEnabled;
                    this.applyUserPreferences();
                    this.saveUserPreferences();
                    this.showNotification(
                        this.userPreferences.notificationsEnabled ? 'ğŸ”” é€šçŸ¥å·²å¯ç”¨' : 'ğŸ”• é€šçŸ¥å·²ç¦ç”¨',
                        'info'
                    );
                },
                
                simulateLoading() {
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += Math.random() * 15;
                        this.loadingProgress = Math.min(progress, 100);
                        
                        if (progress >= 100) {
                            clearInterval(interval);
                            // å»¶è¿Ÿä¸€ä¸‹å†éšè—åŠ è½½çŠ¶æ€ï¼Œè®©ç”¨æˆ·çœ‹åˆ°100%å®Œæˆ
                            setTimeout(() => {
                                this.isLoading = false;
                                // è§¦å‘é¡µé¢å†…å®¹åŠ¨ç”»
                                this.triggerContentAnimations();
                            }, 200);
                        }
                    }, 100);
                },
                
                triggerContentAnimations() {
                    // ä¸ºé¡µé¢å…ƒç´ æ·»åŠ åŠ¨ç”»ç±»
                    const animateElements = document.querySelectorAll('.animate-on-load');
                    animateElements.forEach((element, index) => {
                        setTimeout(() => {
                            element.classList.add('animate-fade-in');
                            element.classList.remove('animate-on-load');
                        }, index * 100); // é”™å¼€åŠ¨ç”»æ—¶é—´
                    });
                    
                    // ä¼˜åŒ–æ€§èƒ½ï¼šåŠ¨ç”»å®Œæˆåæ¸…ç†will-change
                    setTimeout(() => {
                        document.querySelectorAll('.animate-optimized').forEach(element => {
                            element.style.willChange = 'auto';
                        });
                    }, 2000);
                },
                
                // ç§»åŠ¨ç«¯è§¦æ‘¸äº¤äº’ä¼˜åŒ–
                initTouchInteractions() {
                    // æ£€æµ‹æ˜¯å¦ä¸ºè§¦æ‘¸è®¾å¤‡
                    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                    
                    if (isTouchDevice) {
                        // ä¸ºå¡ç‰‡æ·»åŠ è§¦æ‘¸åé¦ˆ
                        document.addEventListener('touchstart', (e) => {
                            const card = e.target.closest('.md3-card, .md3-btn');
                            if (card) {
                                card.style.transform = 'scale(0.98)';
                                card.style.transition = 'transform 0.1s ease';
                            }
                        }, { passive: true });
                        
                        document.addEventListener('touchend', (e) => {
                            const card = e.target.closest('.md3-card, .md3-btn');
                            if (card) {
                                setTimeout(() => {
                                    card.style.transform = '';
                                }, 100);
                            }
                        }, { passive: true });
                        
                        // é˜²æ­¢iOS Safariçš„åŒå‡»ç¼©æ”¾
                        document.addEventListener('touchend', (e) => {
                            const now = new Date().getTime();
                            if (now - this.lastTouchEnd <= 300) {
                                e.preventDefault();
                            }
                            this.lastTouchEnd = now;
                        }, false);
                        
                        this.lastTouchEnd = 0;
                    }
                },
                
                initStudyStats() {
                    // ç­‰å¾…å­¦ä¹ ç»Ÿè®¡ç®¡ç†å™¨åŠ è½½å®Œæˆ
                    if (window.studyStats) {
                        this.studyStats = window.studyStats;
                        console.log('âœ… å­¦ä¹ ç»Ÿè®¡ç®¡ç†å™¨å·²è¿æ¥');
                        
                        // ç›‘å¬ç»Ÿè®¡æ•°æ®å˜åŒ–
                        this.studyStats.addObserver((event, data) => {
                            if (event === 'statsUpdated') {
                                // è§¦å‘é¡µé¢æ›´æ–°
                                this.$nextTick(() => {
                                    // å¼ºåˆ¶é‡æ–°æ¸²æŸ“ç»Ÿè®¡æ•°æ®
                                    this.studyStats = { ...this.studyStats };
                                });
                            }
                        });
                        
                        // ä¸å†ç”Ÿæˆè™šå‡æ¼”ç¤ºæ•°æ®ï¼Œè®©ç”¨æˆ·çœŸå®ä½¿ç”¨æ—¶å†äº§ç”Ÿæ•°æ®
                        console.log('ğŸ“Š å­¦ä¹ ç»Ÿè®¡ç³»ç»Ÿå·²å°±ç»ªï¼Œç­‰å¾…çœŸå®å­¦ä¹ æ´»åŠ¨...');
                    } else {
                        // å»¶è¿Ÿé‡è¯•
                        setTimeout(() => this.initStudyStats(), 1000);
                    }
                    
                    // åˆå§‹åŒ–ç¬”è®°æ•°é‡æ˜¾ç¤º
                    this.updateNotesCount();
                },
                
                updateNotesCount() {
                    try {
                        const savedData = localStorage.getItem('study_notes');
                        let notesCount = 0;
                        
                        if (savedData) {
                            const parsedData = JSON.parse(savedData);
                            if (Array.isArray(parsedData)) {
                                notesCount = parsedData.length;
                            } else if (parsedData.notes && Array.isArray(parsedData.notes)) {
                                notesCount = parsedData.notes.length;
                            }
                        }
                        
                        const notesCountElement = document.getElementById('notes-count');
                        if (notesCountElement) {
                            notesCountElement.textContent = notesCount;
                        }
                        
                        console.log('âœ… ç¬”è®°æ•°é‡å·²æ›´æ–°:', notesCount);
                    } catch (error) {
                        console.error('æ›´æ–°ç¬”è®°æ•°é‡å¤±è´¥:', error);
                    }
                },
                
                checkFirstVisit() {
                    const hasVisited = localStorage.getItem('platform_visited');
                    if (!hasVisited) {
                        this.showWelcome = true;
                    }
                },
                
                startTour() {
                    this.showWelcome = false;
                    localStorage.setItem('platform_visited', 'true');
                    this.showNotification('ğŸ‰ å¼€å§‹æ‚¨çš„å­¦ä¹ ä¹‹æ—…ï¼', 'success');
                    // æ»šåŠ¨åˆ°è¯¾ç¨‹åŒºåŸŸ
                    setTimeout(() => {
                        document.getElementById('courses').scrollIntoView({behavior: 'smooth'});
                    }, 500);
                },
                
                skipWelcome() {
                    this.showWelcome = false;
                    localStorage.setItem('platform_visited', 'true');
                    this.showNotification('æ¬¢è¿ä½¿ç”¨è€ƒç ”å­¦ä¹ å¹³å°ï¼', 'info');
                },
                
                loadTheme() {
                    // æ£€æµ‹ç³»ç»Ÿä¸»é¢˜åå¥½
                    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                    const storedTheme = localStorage.getItem('theme');
                    
                    // ä¼˜å…ˆä½¿ç”¨ç”¨æˆ·è®¾ç½®ï¼Œå…¶æ¬¡è·Ÿéšç³»ç»Ÿ
                    if (storedTheme) {
                        this.darkMode = storedTheme === 'dark';
                    } else {
                        this.darkMode = systemPrefersDark;
                        // é¦–æ¬¡è®¿é—®æ—¶ä¿å­˜ç³»ç»Ÿåå¥½
                        localStorage.setItem('theme', systemPrefersDark ? 'dark' : 'light');
                    }
                    
                    this.applyTheme();
                    this.watchSystemThemeChange();
                },
                
                watchSystemThemeChange() {
                    // ç›‘å¬ç³»ç»Ÿä¸»é¢˜å˜åŒ–
                    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
                    mediaQuery.addEventListener('change', (e) => {
                        // åªæœ‰åœ¨ç”¨æˆ·æ²¡æœ‰æ‰‹åŠ¨è®¾ç½®ä¸»é¢˜æ—¶æ‰è·Ÿéšç³»ç»Ÿ
                        const userSetTheme = localStorage.getItem('user-theme-preference');
                        if (!userSetTheme) {
                            this.darkMode = e.matches;
                            this.applyTheme();
                            this.showNotification(
                                `ğŸ¨ å·²è‡ªåŠ¨åˆ‡æ¢è‡³${e.matches ? 'æš—è‰²' : 'æµ…è‰²'}æ¨¡å¼`,
                                'info'
                            );
                        }
                    });
                },
                
                applyTheme() {
                    document.documentElement.classList.toggle('dark', this.darkMode);
                    
                    // æ·»åŠ ä¸»é¢˜åˆ‡æ¢çš„å¹³æ»‘è¿‡æ¸¡
                    document.body.style.transition = 'background-color 0.3s ease, color 0.3s ease';
                    
                    // æ›´æ–°ä¸»é¢˜è‰²å…ƒæ ‡ç­¾ï¼ˆPWAæ”¯æŒï¼‰
                    this.updateThemeColorMeta();
                },
                
                updateThemeColorMeta() {
                    let themeColorMeta = document.querySelector('meta[name="theme-color"]');
                    if (!themeColorMeta) {
                        themeColorMeta = document.createElement('meta');
                        themeColorMeta.name = 'theme-color';
                        document.head.appendChild(themeColorMeta);
                    }
                    
                    // æ ¹æ®å½“å‰ä¸»é¢˜è®¾ç½®åˆé€‚çš„ä¸»é¢˜é¢œè‰²
                    const themeColor = this.darkMode ? '#141218' : '#FFFBFE';
                    themeColorMeta.content = themeColor;
                },
                
                toggleTheme() {
                    this.darkMode = !this.darkMode;
                    localStorage.setItem('theme', this.darkMode ? 'dark' : 'light');
                    // æ ‡è®°ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®äº†ä¸»é¢˜åå¥½
                    localStorage.setItem('user-theme-preference', 'true');
                    
                    this.applyTheme();
                    
                    this.showNotification(
                        this.darkMode ? 'ğŸŒ™ å·²åˆ‡æ¢è‡³æš—è‰²æ¨¡å¼' : 'â˜€ï¸ å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼', 
                        'info'
                    );
                },
                
                async loadCourseData() {
                    try {
                        // æ‡’åŠ è½½è¯¾ç¨‹æ•°æ®ï¼Œä»…åœ¨éœ€è¦æ—¶åŠ è½½
                        if (window.resourceLoader) {
                            // ä½¿ç”¨èµ„æºåŠ è½½å™¨åŠ è½½æ•°æ®
                            const courses = await window.resourceLoader.loadJSON(
                                'bilibilicatgorybydifficulty.json',
                                window.fallbackCourseData,
                                { useJSFallback: true }
                            );
                            console.log('âœ… è¯¾ç¨‹æ•°æ®åŠ è½½æˆåŠŸï¼Œå…±', courses.length, 'é—¨è¯¾ç¨‹');
                        }
                    } catch (error) {
                        console.error('âŒ è¯¾ç¨‹æ•°æ®åŠ è½½å¤±è´¥:', error);
                    }
                },
                
                // æ‡’åŠ è½½ç»„ä»¶
                async loadComponentsLazily() {
                    // åªåœ¨éœ€è¦æ—¶åŠ è½½ç»Ÿè®¡ç»„ä»¶
                    if (!window.studyStats && document.querySelector('[x-data*="statsDashboard"]')) {
                        try {
                            await this.loadScript('assets/js/stats-manager.js');
                            console.log('âœ… ç»Ÿè®¡ç»„ä»¶æ‡’åŠ è½½æˆåŠŸ');
                        } catch (error) {
                            console.error('âŒ ç»Ÿè®¡ç»„ä»¶åŠ è½½å¤±è´¥:', error);
                        }
                    }
                    
                    // æ‡’åŠ è½½ç¬”è®°ç®¡ç†å™¨
                    if (!window.notesManager) {
                        try {
                            await this.loadScript('assets/js/notes-manager.js');
                            console.log('âœ… ç¬”è®°ç®¡ç†å™¨æ‡’åŠ è½½æˆåŠŸ');
                        } catch (error) {
                            console.error('âŒ ç¬”è®°ç®¡ç†å™¨åŠ è½½å¤±è´¥:', error);
                        }
                    }
                },
                
                // åŠ¨æ€åŠ è½½è„šæœ¬çš„å·¥å…·æ–¹æ³•
                loadScript(src) {
                    return new Promise((resolve, reject) => {
                        // æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½
                        if (document.querySelector(`script[src="${src}"]`)) {
                            resolve();
                            return;
                        }
                        
                        const script = document.createElement('script');
                        script.src = src;
                        script.onload = resolve;
                        script.onerror = reject;
                        document.head.appendChild(script);
                    });
                },
                
                initScrollAnimations() {
                    // æ»šåŠ¨åŠ¨ç”»è§‚å¯Ÿå™¨
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                entry.target.classList.add('animate-fadeInUp');
                            }
                        });
                    }, { threshold: 0.1 });
                    
                    // è§‚å¯Ÿæ‰€æœ‰éœ€è¦åŠ¨ç”»çš„å…ƒç´ 
                    document.querySelectorAll('.animate-on-scroll').forEach(el => {
                        observer.observe(el);
                    });
                },
                
                showNotification(message, type = 'info') {
                    const colors = {
                        success: 'bg-green-500',
                        error: 'bg-red-500',
                        warning: 'bg-yellow-500',
                        info: 'bg-blue-500'
                    };
                    
                    const notification = document.createElement('div');
                    notification.className = `fixed top-4 right-4 ${colors[type]} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-all duration-300`;
                    notification.textContent = message;
                    
                    document.body.appendChild(notification);
                    
                    // åŠ¨ç”»æ˜¾ç¤º
                    setTimeout(() => {
                        notification.classList.remove('translate-x-full');
                    }, 100);
                    
                    // è‡ªåŠ¨éšè—
                    setTimeout(() => {
                        notification.classList.add('translate-x-full');
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }
            };
        }
        
        // å¹³æ»‘æ»šåŠ¨å¤„ç†
        document.addEventListener('DOMContentLoaded', function() {
            // å¯¼èˆªæ é€æ˜åº¦å˜åŒ–
            window.addEventListener('scroll', function() {
                const nav = document.querySelector('nav');
                if (nav) {
                    nav.style.background = window.scrollY > 50 ? 
                        'rgba(255, 255, 255, 0.95)' : 
                        'rgba(255, 255, 255, 1)';
                }
            });
        });
    </script>
    
    <!-- ç»„ä»¶åŠ è½½ - æ€§èƒ½ä¼˜åŒ– -->
    <script>
        // ä½¿ç”¨ Intersection Observer å®ç°æ‡’åŠ è½½å¯¼èˆªæ 
        function loadNavbarLazily() {
            const navContainer = document.getElementById('navbar-container');
            if (!navContainer) return;
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // åªåœ¨å¯¼èˆªæ è¿›å…¥è§†å£æ—¶åŠ è½½
                        fetch('assets/components/navbar.html')
                            .then(response => response.text())
                            .then(html => {
                                navContainer.innerHTML = html;
                                console.log('âœ… å¯¼èˆªæ æ‡’åŠ è½½æˆåŠŸ');
                                observer.disconnect(); // åŠ è½½å®Œæˆååœæ­¢è§‚å¯Ÿ
                            })
                            .catch(error => console.error('å¯¼èˆªæ æ‡’åŠ è½½å¤±è´¥:', error));
                    }
                });
            }, { rootMargin: '50px' });
            
            observer.observe(navContainer);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨æ‡’åŠ è½½
        document.addEventListener('DOMContentLoaded', loadNavbarLazily);
    </script>
    
    <!-- å…¶ä»–ç»„ä»¶è„šæœ¬ - æŒ‰éœ€åŠ è½½ -->
    <script>
        // åŠ¨æ€åŠ è½½ç»Ÿè®¡ç®¡ç†å™¨
        function loadStatsManager() {
            if (!window.studyStats) {
                const script = document.createElement('script');
                script.src = 'assets/js/stats-manager.js';
                script.onload = () => console.log('âœ… ç»Ÿè®¡ç®¡ç†å™¨å·²åŠ è½½');
                script.onerror = () => console.error('âŒ ç»Ÿè®¡ç®¡ç†å™¨åŠ è½½å¤±è´¥');
                document.head.appendChild(script);
            }
        }
        
        // åŠ¨æ€åŠ è½½ç¬”è®°ç®¡ç†å™¨
        function loadNotesManager() {
            if (!window.notesManager) {
                const script = document.createElement('script');
                script.src = 'assets/js/notes-manager.js';
                script.onload = () => console.log('âœ… ç¬”è®°ç®¡ç†å™¨å·²åŠ è½½');
                script.onerror = () => console.error('âŒ ç¬”è®°ç®¡ç†å™¨åŠ è½½å¤±è´¥');
                document.head.appendChild(script);
            }
        }
        
        // åŠ¨æ€åŠ è½½ç« èŠ‚é€‰æ‹©å™¨
        function loadChapterSelector() {
            if (!window.chapterSelector) {
                const script = document.createElement('script');
                script.src = 'assets/js/chapter-selector.js';
                script.onload = () => console.log('âœ… ç« èŠ‚é€‰æ‹©å™¨å·²åŠ è½½');
                script.onerror = () => console.error('âŒ ç« èŠ‚é€‰æ‹©å™¨åŠ è½½å¤±è´¥');
                document.head.appendChild(script);
            }
        }
        
        // å»¶è¿ŸåŠ è½½éå…³é”®è„šæœ¬
        window.addEventListener('load', () => {
            // ä½¿ç”¨ requestIdleCallback åœ¨æµè§ˆå™¨ç©ºé—²æ—¶åŠ è½½
            if (window.requestIdleCallback) {
                requestIdleCallback(() => {
                    loadStatsManager();
                    loadNotesManager();
                    loadChapterSelector();
                });
            } else {
                // å…œåº•ï¼šå»¶è¿Ÿ2ç§’åŠ è½½
                setTimeout(() => {
                    loadStatsManager();
                    loadNotesManager();
                    loadChapterSelector();
                }, 2000);
            }
        });
    </script>
    
    <!-- å­¦ä¹ ç»Ÿè®¡ç»„ä»¶å®¹å™¨ -->
    <div id="stats-dashboard-container"></div>
    
    <!-- åŠ è½½å­¦ä¹ ç»Ÿè®¡ç»„ä»¶ - ç›´æ¥åµŒå…¥é¿å…fetché—®é¢˜ -->
    <script>
        // ç›´æ¥å°†ç»„ä»¶HTMLåµŒå…¥ï¼Œé¿å…fetchè¯·æ±‚å¤±è´¥
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('stats-dashboard-container');
            if (container) {
                container.innerHTML = `
<div class="stats-dashboard" x-data="statsDashboard()">
    <div x-show="showStatsModal" 
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        
        <div class="bg-white dark:bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl"
             x-transition:enter="transition ease-out duration-300 delay-150"
             x-transition:enter-start="opacity-0 scale-90"
             x-transition:enter-end="opacity-100 scale-100">
            
            <div class="sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold flex items-center">
                            <span class="material-symbols-rounded mr-3">trending_up</span>
                            å­¦ä¹ ç»Ÿè®¡åˆ†æ
                        </h2>
                        <p class="text-indigo-100 mt-1">æ•°æ®é©±åŠ¨çš„å­¦ä¹ è¿›æ­¥</p>
                    </div>
                    <button @click="closeStatsModal()" 
                            class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors">
                        <span class="material-symbols-rounded text-xl">close</span>
                    </button>
                </div>
            </div>

            <div class="p-6">
                <!-- æ— æ•°æ®æç¤º -->
                <div x-show="!studyStats || !studyStats.stats || studyStats.stats.totalStudyTime === 0" 
                     class="text-center py-12">
                    <div class="mb-6">
                        <span class="material-symbols-rounded text-6xl text-gray-300 mb-4">analytics</span>
                        <h3 class="text-2xl font-bold text-gray-600 mb-2">å¼€å§‹æ‚¨çš„å­¦ä¹ ä¹‹æ—…</h3>
                        <p class="text-gray-500 mb-6">å½“æ‚¨å¼€å§‹å­¦ä¹ æ—¶ï¼Œè¿™é‡Œå°†æ˜¾ç¤ºæ‚¨çš„çœŸå®å­¦ä¹ ç»Ÿè®¡</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6">
                            <span class="material-symbols-rounded text-3xl text-blue-500 mb-3">play_circle</span>
                            <h4 class="font-semibold text-blue-700 dark:text-blue-300 mb-2">å¼€å§‹å­¦ä¹ </h4>
                            <p class="text-sm text-blue-600 dark:text-blue-400">è®¿é—®è¯¾ç¨‹é¡µé¢ï¼Œè§‚çœ‹è§†é¢‘æˆ–å®Œæˆç»ƒä¹ </p>
                        </div>
                        
                        <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6">
                            <span class="material-symbols-rounded text-3xl text-green-500 mb-3">target</span>
                            <h4 class="font-semibold text-green-700 dark:text-green-300 mb-2">è®¾ç½®ç›®æ ‡</h4>
                            <p class="text-sm text-green-600 dark:text-green-400">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è®¾ç½®æ‚¨çš„å­¦ä¹ ç›®æ ‡</p>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <button @click="openGoalSettings()" 
                                class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium">
                            <span class="material-symbols-rounded mr-2">flag</span>
                            ç°åœ¨è®¾ç½®å­¦ä¹ ç›®æ ‡
                        </button>
                    </div>
                </div>

                <!-- æœ‰æ•°æ®æ—¶æ˜¾ç¤ºç»Ÿè®¡ -->
                <div x-show="studyStats && studyStats.stats && studyStats.stats.totalStudyTime > 0">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                        <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-xl shadow-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span class="material-symbols-rounded text-2xl opacity-80">schedule</span>
                                <span class="text-xs bg-white/20 px-2 py-1 rounded-full">ä»Šæ—¥</span>
                            </div>
                            <div class="text-2xl font-bold" x-text="formatTime(todayStats.studyTime)">0h 0m</div>
                            <div class="text-sm opacity-90">å­¦ä¹ æ—¶é•¿</div>
                        </div>

                        <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-xl shadow-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span class="material-symbols-rounded text-2xl opacity-80">local_fire_department</span>
                                <span class="text-xs bg-white/20 px-2 py-1 rounded-full">è¿ç»­</span>
                            </div>
                            <div class="text-2xl font-bold" x-text="stats.streakDays || 0">0</div>
                            <div class="text-sm opacity-90">è¿ç»­å¤©æ•°</div>
                        </div>

                        <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-xl shadow-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span class="material-symbols-rounded text-2xl opacity-80">psychology</span>
                                <span class="text-xs bg-white/20 px-2 py-1 rounded-full">ä»Šæ—¥</span>
                            </div>
                            <div class="text-2xl font-bold" x-text="todayStats.questionsAnswered || 0">0</div>
                            <div class="text-sm opacity-90">å·²ç­”é¢˜ç›®</div>
                        </div>

                        <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-6 rounded-xl shadow-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span class="material-symbols-rounded text-2xl opacity-80">target</span>
                                <span class="text-xs bg-white/20 px-2 py-1 rounded-full">æ­£ç¡®ç‡</span>
                            </div>
                            <div class="text-2xl font-bold" x-text="getTodayAccuracy() + '%'">0%</div>
                            <div class="text-sm opacity-90">ä»Šæ—¥æ­£ç¡®ç‡</div>
                        </div>
                    </div>
                </div>

                <div class="flex flex-wrap gap-3 justify-center">
                    <button @click="exportStats()" 
                            class="flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">
                        <span class="material-symbols-rounded mr-2">download</span>
                        å¯¼å‡ºæ•°æ®
                    </button>
                    <button @click="openGoalSettings()" 
                            class="flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors">
                        <span class="material-symbols-rounded mr-2">flag</span>
                        è®¾ç½®ç›®æ ‡
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div x-show="showGoalSettings" 
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         class="fixed inset-0 bg-black bg-opacity-50 z-70 flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white flex items-center">
                    <span class="material-symbols-rounded text-green-500 mr-3">flag</span>
                    è®¾ç½®å­¦ä¹ ç›®æ ‡
                </h3>
                <button @click="showGoalSettings = false" 
                        class="w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors">
                    <span class="material-symbols-rounded text-gray-600 dark:text-gray-300">close</span>
                </button>
            </div>

            <div class="space-y-6">
                <div>
                    <h4 class="font-semibold text-gray-800 dark:text-white mb-3">ğŸ“‹ å¿«é€Ÿé¢„è®¾</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                        <button @click="setPresetGoal('conservative')" 
                                class="p-4 border-2 border-blue-200 rounded-lg hover:border-blue-400 transition-colors text-left">
                            <div class="font-medium text-blue-700">ğŸ’§ ä¿å®ˆå‹</div>
                            <div class="text-sm text-gray-600 mt-1">æ¯æ—¥1.5hï¼Œç¨³æ­¥æ¨è¿›</div>
                        </button>
                        <button @click="setPresetGoal('moderate')" 
                                class="p-4 border-2 border-green-200 rounded-lg hover:border-green-400 transition-colors text-left">
                            <div class="font-medium text-green-700">ğŸ¯ å‡è¡¡å‹</div>
                            <div class="text-sm text-gray-600 mt-1">æ¯æ—¥3hï¼Œå…¨é¢å‘å±•</div>
                        </button>
                        <button @click="setPresetGoal('intensive')" 
                                class="p-4 border-2 border-red-200 rounded-lg hover:border-red-400 transition-colors text-left">
                            <div class="font-medium text-red-700">ğŸ”¥ å†²åˆºå‹</div>
                            <div class="text-sm text-gray-600 mt-1">æ¯æ—¥5hï¼Œé«˜å¼ºåº¦å¤‡è€ƒ</div>
                        </button>
                    </div>
                </div>

                <div class="space-y-4">
                    <h4 class="font-semibold text-gray-800 dark:text-white">âš™ï¸ è‡ªå®šä¹‰ç›®æ ‡</h4>
                    
                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                        <h5 class="font-medium text-blue-800 dark:text-blue-200 mb-3">â° æ—¶é—´ç›®æ ‡</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                    æ¯æ—¥å­¦ä¹ æ—¶é•¿ (åˆ†é’Ÿ)
                                </label>
                                <input type="range" x-model="newGoals.dailyStudyTime" min="30" max="480" step="15"
                                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="text-center text-sm text-blue-600 font-medium mt-1" 
                                     x-text="Math.floor(newGoals.dailyStudyTime / 60) + 'h ' + (newGoals.dailyStudyTime % 60) + 'm'"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex gap-3 mt-8">
                <button @click="showGoalSettings = false" 
                        class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors">
                    å–æ¶ˆ
                </button>
                <button @click="saveGoals()" 
                        class="flex-1 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors font-medium">
                    <span class="material-symbols-rounded mr-2">save</span>
                    ä¿å­˜ç›®æ ‡
                </button>
            </div>
        </div>
    </div>
</div>`;
                
                console.log('ğŸ“Š å­¦ä¹ ç»Ÿè®¡ç»„ä»¶å·²ç›´æ¥åµŒå…¥');
            }
        });
    </script>

    <!-- ç»Ÿè®¡ç»„ä»¶è„šæœ¬ -->
    <script>
        function statsDashboard() {
            return {
                showStatsModal: false,
                showGoalSettings: false,
                stats: {},
                todayStats: {},
                accuracy: 0,
                newGoals: {
                    dailyStudyTime: 180,
                    weeklyActiveDays: 6,
                    targetAccuracy: 80,
                    dailyQuestions: 50,
                    subjectBalance: {
                        mathematics: 30,
                        english: 25,
                        politics: 20,
                        professional: 25
                    }
                },

                init() {
                    this.loadStatsData();
                    // ç›‘å¬ç»Ÿè®¡æ•°æ®æ›´æ–°
                    if (window.studyStats) {
                        window.studyStats.addObserver((event, data) => {
                            if (event === 'statsUpdated') {
                                this.loadStatsData();
                            }
                        });
                    }
                },

                loadStatsData() {
                    if (window.studyStats) {
                        this.stats = window.studyStats.stats;
                        this.todayStats = window.studyStats.getTodayStats();
                        this.accuracy = window.studyStats.getAccuracy();
                        
                        // åŠ è½½ç”¨æˆ·çš„ç›®æ ‡è®¾ç½®
                        if (this.stats.goals) {
                            this.newGoals = { ...this.newGoals, ...this.stats.goals };
                        }
                    }
                },

                openStatsModal() {
                    // å…³é—­ç›®æ ‡è®¾ç½®å¼¹çª—ï¼ˆå¦‚æœå¼€å¯äº†ï¼‰
                    this.showGoalSettings = false;
                    this.showStatsModal = true;
                    this.loadStatsData();
                },

                closeStatsModal() {
                    this.showStatsModal = false;
                    // æ¸…ç†çŠ¶æ€ï¼Œé˜²æ­¢æ®‹ç•™é—®é¢˜
                    setTimeout(() => {
                        this.showGoalSettings = false;
                    }, 100);
                },

                openGoalSettings() {
                    // å…³é—­å­¦ä¹ ç»Ÿè®¡å¼¹çª—ï¼ˆå¦‚æœå¼€å¯äº†ï¼‰
                    this.showStatsModal = false;
                    this.showGoalSettings = true;
                    this.loadStatsData();
                },

                setPresetGoal(type) {
                    const presets = {
                        conservative: {
                            dailyStudyTime: 90,
                            weeklyActiveDays: 5,
                            targetAccuracy: 75,
                            dailyQuestions: 30,
                            subjectBalance: { mathematics: 35, english: 30, politics: 15, professional: 20 }
                        },
                        moderate: {
                            dailyStudyTime: 180,
                            weeklyActiveDays: 6,
                            targetAccuracy: 82,
                            dailyQuestions: 50,
                            subjectBalance: { mathematics: 30, english: 25, politics: 20, professional: 25 }
                        },
                        intensive: {
                            dailyStudyTime: 300,
                            weeklyActiveDays: 7,
                            targetAccuracy: 88,
                            dailyQuestions: 80,
                            subjectBalance: { mathematics: 25, english: 20, politics: 15, professional: 40 }
                        }
                    };
                    
                    this.newGoals = { ...this.newGoals, ...presets[type] };
                    this.showNotification('ğŸ¯ å·²åº”ç”¨' + (type === 'conservative' ? 'ä¿å®ˆ' : type === 'moderate' ? 'å‡è¡¡' : 'å†²åˆº') + 'å‹ç›®æ ‡é¢„è®¾', 'success');
                },

                saveGoals() {
                    if (window.studyStats) {
                        // æ‰©å±•ç»Ÿè®¡ç®¡ç†å™¨çš„ç›®æ ‡è®¾ç½®åŠŸèƒ½
                        if (!window.studyStats.setGoals) {
                            window.studyStats.setGoals = function(goals) {
                                this.stats.goals = { ...this.stats.goals, ...goals };
                                this.saveStats();
                                this.notifyObservers('goalsUpdated', this.stats.goals);
                            };
                        }
                        
                        window.studyStats.setGoals(this.newGoals);
                        this.showGoalSettings = false;
                        this.loadStatsData();
                        this.showNotification('ğŸ¯ å­¦ä¹ ç›®æ ‡å·²ä¿å­˜ï¼å¼€å§‹å‘ç›®æ ‡åŠªåŠ›å§ï¼', 'success');
                    }
                },

                getTodayAccuracy() {
                    if (!this.todayStats.questionsAnswered || this.todayStats.questionsAnswered === 0) {
                        return 0;
                    }
                    return Math.round((this.todayStats.correctAnswers / this.todayStats.questionsAnswered) * 100);
                },

                getDailyGoalCompletionStatus() {
                    const timeGoalMet = this.todayStats.studyTime >= (this.stats.goals?.dailyStudyTime || 120);
                    const questionGoalMet = (this.todayStats.questionsAnswered || 0) >= (this.stats.goals?.dailyQuestions || 50);
                    const accuracyGoalMet = this.getTodayAccuracy() >= (this.stats.goals?.targetAccuracy || 80);
                    
                    const completedGoals = [timeGoalMet, questionGoalMet, accuracyGoalMet].filter(Boolean).length;
                    const totalGoals = 3;
                    
                    if (completedGoals === totalGoals) {
                        return {
                            isAllComplete: true,
                            message: 'ğŸ‰ æ­å–œï¼ä»Šæ—¥æ‰€æœ‰å­¦ä¹ ç›®æ ‡å·²å®Œæˆï¼'
                        };
                    } else if (completedGoals === 0) {
                        return {
                            isAllComplete: false,
                            message: 'ğŸ’ª å¼€å§‹ä»Šæ—¥çš„å­¦ä¹ ä¹‹æ—…ï¼Œå‘ç›®æ ‡å‡ºå‘ï¼'
                        };
                    } else {
                        return {
                            isAllComplete: false,
                            message: `âš¡ å·²å®Œæˆ ${completedGoals}/${totalGoals} ä¸ªç›®æ ‡ï¼Œç»§ç»­åŠ æ²¹ï¼`
                        };
                    }
                },

                formatTime(minutes) {
                    if (!minutes || minutes === 0) return '0åˆ†é’Ÿ';
                    const hours = Math.floor(minutes / 60);
                    const mins = minutes % 60;
                    if (hours > 0) {
                        return mins > 0 ? hours + 'h ' + mins + 'm' : hours + 'h';
                    }
                    return mins + 'm';
                },

                formatTotalTime(minutes) {
                    if (!minutes || minutes === 0) return '0h';
                    const hours = Math.floor(minutes / 60);
                    return hours + 'h';
                },

                exportStats() {
                    if (window.studyStats) {
                        const data = {
                            stats: window.studyStats.stats,
                            exportTime: new Date().toISOString(),
                            version: '1.0'
                        };
                        const blob = new Blob([JSON.stringify(data, null, 2)], {
                            type: 'application/json'
                        });
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'study-stats-' + new Date().toISOString().split('T')[0] + '.json';
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                        
                        this.showNotification('ğŸ“Š ç»Ÿè®¡æ•°æ®å·²å¯¼å‡º', 'success');
                    }
                },

                showNotification(message, type = 'info') {
                    const colors = {
                        success: 'bg-green-500',
                        error: 'bg-red-500',
                        warning: 'bg-yellow-500',
                        info: 'bg-blue-500'
                    };
                    
                    const notification = document.createElement('div');
                    notification.className = 'fixed top-4 right-4 ' + colors[type] + ' text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-all duration-300';
                    notification.textContent = message;
                    
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.classList.remove('translate-x-full');
                    }, 100);
                    
                    setTimeout(() => {
                        notification.classList.add('translate-x-full');
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }
            };
        }

        // å…¨å±€å‡½æ•°ï¼Œä¾›å¤–éƒ¨è°ƒç”¨
        window.openStatsModal = function() {
            const dashboard = document.querySelector('[x-data*="statsDashboard"]');
            if (dashboard) {
                Alpine.evaluate(dashboard, 'openStatsModal()');
            }
        };
    </script>
    
    <!-- å¿«æ·å¯¼èˆªæ  - æŒ‰éœ€åŠ è½½ -->
    <script>
        // æ‡’åŠ è½½å¿«æ·å¯¼èˆª
        function loadQuickNavLazily() {
            // æ£€æµ‹ç”¨æˆ·æ˜¯å¦æ»šåŠ¨è¿‡é¡µé¢ï¼Œå¦‚æœæ»šåŠ¨äº†å†åŠ è½½å¿«æ·å¯¼èˆª
            let hasScrolled = false;
            
            function onScroll() {
                if (!hasScrolled && window.scrollY > 100) {
                    hasScrolled = true;
                    const script = document.createElement('script');
                    script.src = 'assets/js/quick-nav.js';
                    script.onload = () => console.log('âœ… å¿«æ·å¯¼èˆªå·²åŠ è½½');
                    script.onerror = () => console.error('âŒ å¿«æ·å¯¼èˆªåŠ è½½å¤±è´¥');
                    document.head.appendChild(script);
                    
                    // åŠ è½½å®Œæˆåç§»é™¤æ»šåŠ¨ç›‘å¬
                    window.removeEventListener('scroll', onScroll);
                }
            }
            
            window.addEventListener('scroll', onScroll, { passive: true });
            
            // 5ç§’åå¦‚æœç”¨æˆ·æ²¡æœ‰æ»šåŠ¨ä¹ŸåŠ è½½
            setTimeout(() => {
                if (!hasScrolled) {
                    onScroll();
                }
            }, 5000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨æ‡’åŠ è½½
        window.addEventListener('load', loadQuickNavLazily);
    </script>
</body>
</html>